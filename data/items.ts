import { Equipment, EquipmentSlot, EquipmentRarity } from '../types';

type ItemDefinition = Omit<Equipment, 'id' | 'baseId' | 'upgradeLevel' | 'baseName'>;

const WARRIOR_AFFINITY = { warrior: 1.0, rogue: 0.7, cleric: 0.8, mage: 0.1 };
const MAGE_AFFINITY = { mage: 1.0, cleric: 0.7, warrior: 0.1, rogue: 0.2 };
const ROGUE_AFFINITY = { rogue: 1.0, warrior: 0.6, cleric: 0.4, mage: 0.3 };
const CLERIC_AFFINITY = { cleric: 1.0, mage: 0.6, warrior: 0.7, rogue: 0.3 };
const UNIVERSAL_AFFINITY = { warrior: 1.0, mage: 1.0, rogue: 1.0, cleric: 1.0 };


export const ITEMS: { [id: string]: ItemDefinition } = {
    // Original Items
    'rusty_dagger': {
        name: 'Rusty Dagger',
        slot: 'weapon',
        rarity: 'common',
        stats: { attack: 2 },
        classAffinity: { rogue: 1.0, warrior: 0.8, cleric: 0.5, mage: 0.2 },
    },
    'tattered_cowl': {
        name: 'Tattered Cowl',
        slot: 'armor',
        rarity: 'common',
        stats: { defense: 1, intelligence: 1 },
        classAffinity: MAGE_AFFINITY,
    },
    'chiefs_cleaver': {
        name: "Chief's Cleaver",
        slot: 'weapon',
        rarity: 'uncommon',
        stats: { attack: 5, health: 10 },
        classAffinity: WARRIOR_AFFINITY,
        setId: 'goblin_chief_set',
    },
    'chiefs_shoulder_guards': {
        name: "Chief's Shoulder Guards",
        slot: 'armor',
        rarity: 'uncommon',
        stats: { defense: 8, attack: 2 },
        classAffinity: WARRIOR_AFFINITY,
        setId: 'goblin_chief_set',
    },
    'firelords_blade': {
        name: "Firelord's Blade",
        slot: 'weapon',
        rarity: 'epic',
        stats: { attack: 50, health: 100 },
        classAffinity: UNIVERSAL_AFFINITY,
        setId: 'firelord_set',
    },
    'crown_of_embers': {
        name: "Crown of Embers",
        slot: 'armor',
        rarity: 'epic',
        stats: { defense: 25, mana: 150 },
        classAffinity: UNIVERSAL_AFFINITY,
        setId: 'firelord_set',
    },
    'razorvanes_heart': {
        name: "Razorvane's Heart",
        slot: 'accessory',
        rarity: 'legendary',
        stats: { health: 500, attack: 25, defense: 25 },
        classAffinity: UNIVERSAL_AFFINITY,
    },

    // --- New & Updated Items ---

    // Common (15)
    'cracked_leather_gloves': { name: 'Cracked Leather Gloves', slot: 'armor', rarity: 'common', stats: { defense: 1 }, classAffinity: ROGUE_AFFINITY },
    'splintered_shortbow': { name: 'Splintered Shortbow', slot: 'weapon', rarity: 'common', stats: { attack: 2, agility: 1 }, classAffinity: ROGUE_AFFINITY },
    'faded_wizard_hat': { name: 'Faded Wizard Hat', slot: 'armor', rarity: 'common', stats: { mana: 5 }, classAffinity: MAGE_AFFINITY },
    'chipped_beads': { name: 'Chipped Beads', slot: 'accessory', rarity: 'common', stats: { intelligence: 1 }, classAffinity: UNIVERSAL_AFFINITY },
    'iron_bangle': { name: 'Iron Bangle', slot: 'accessory', rarity: 'common', stats: { health: 5 }, classAffinity: UNIVERSAL_AFFINITY },
    'peasant_tunic': { name: 'Peasant Tunic', slot: 'armor', rarity: 'common', stats: { health: 10 }, classAffinity: UNIVERSAL_AFFINITY },
    'gnarled_walking_stick': { name: 'Gnarled Walking Stick', slot: 'weapon', rarity: 'common', stats: { intelligence: 2 }, classAffinity: MAGE_AFFINITY },
    'dented_pot_lid': { name: 'Dented Pot Lid', slot: 'accessory', rarity: 'common', stats: { defense: 2 }, classAffinity: UNIVERSAL_AFFINITY },
    'roughspun_trousers': { name: 'Roughspun Trousers', slot: 'armor', rarity: 'common', stats: { defense: 1, agility: 1 }, classAffinity: UNIVERSAL_AFFINITY },
    'old_club': { name: 'Old Club', slot: 'weapon', rarity: 'common', stats: { attack: 3 }, classAffinity: WARRIOR_AFFINITY },
    'lucky_rabbit_foot': { name: 'Lucky Rabbit Foot', slot: 'accessory', rarity: 'common', stats: { agility: 1 }, classAffinity: UNIVERSAL_AFFINITY },
    'canvas_belt': { name: 'Canvas Belt', slot: 'accessory', rarity: 'common', stats: { health: 8 }, classAffinity: UNIVERSAL_AFFINITY },
    'worn_boots': { name: 'Worn Boots', slot: 'armor', rarity: 'common', stats: { agility: 1, defense: 1 }, classAffinity: UNIVERSAL_AFFINITY },
    'simple_ring': { name: 'Simple Ring', slot: 'accessory', rarity: 'common', stats: { mana: 3 }, classAffinity: UNIVERSAL_AFFINITY },
    'sharpened_rock': { name: 'Sharpened Rock', slot: 'weapon', rarity: 'common', stats: { attack: 1 }, classAffinity: UNIVERSAL_AFFINITY },

    // Uncommon (30)
    'studded_leather_vest': { name: 'Studded Leather Vest', slot: 'armor', rarity: 'uncommon', stats: { defense: 8, agility: 2 }, classAffinity: ROGUE_AFFINITY, setId: 'shadow_garb' },
    'hunters_longbow': { name: 'Hunter\'s Longbow', slot: 'weapon', rarity: 'uncommon', stats: { attack: 8, agility: 5 }, classAffinity: ROGUE_AFFINITY },
    'acolyte_staff': { name: 'Acolyte Staff', slot: 'weapon', rarity: 'uncommon', stats: { intelligence: 8, mana: 20 }, classAffinity: MAGE_AFFINITY, setId: 'acolyte_vestments' },
    'warriors_broadsword': { name: 'Warrior\'s Broadsword', slot: 'weapon', rarity: 'uncommon', stats: { attack: 10, health: 15 }, classAffinity: WARRIOR_AFFINITY },
    'ring_of_protection': { name: 'Ring of Protection', slot: 'accessory', rarity: 'uncommon', stats: { defense: 5 }, classAffinity: UNIVERSAL_AFFINITY },
    'amulet_of_wisdom': { name: 'Amulet of Wisdom', slot: 'accessory', rarity: 'uncommon', stats: { intelligence: 5, mana: 10 }, classAffinity: UNIVERSAL_AFFINITY },
    'boots_of_speed': { name: 'Boots of Speed', slot: 'armor', rarity: 'uncommon', stats: { agility: 7 }, classAffinity: ROGUE_AFFINITY },
    'iron_greaves': { name: 'Iron Greaves', slot: 'armor', rarity: 'uncommon', stats: { defense: 10, health: 5 }, classAffinity: WARRIOR_AFFINITY },
    'cleric_mace': { name: 'Cleric Mace', slot: 'weapon', rarity: 'uncommon', stats: { attack: 7, intelligence: 3 }, classAffinity: CLERIC_AFFINITY },
    'thiefs_bandana': { name: 'Thief\'s Bandana', slot: 'armor', rarity: 'uncommon', stats: { agility: 4, defense: 2 }, classAffinity: ROGUE_AFFINITY },
    'glowing_crystal': { name: 'Glowing Crystal', slot: 'accessory', rarity: 'uncommon', stats: { mana: 25 }, classAffinity: UNIVERSAL_AFFINITY },
    'orcish_choppa': { name: 'Orcish Choppa', slot: 'weapon', rarity: 'uncommon', stats: { attack: 12 }, classAffinity: WARRIOR_AFFINITY },
    'chainmail_coif': { name: 'Chainmail Coif', slot: 'armor', rarity: 'uncommon', stats: { defense: 9 }, classAffinity: CLERIC_AFFINITY },
    'trollhide_belt': { name: 'Trollhide Belt', slot: 'accessory', rarity: 'uncommon', stats: { health: 30, defense: 2 }, classAffinity: UNIVERSAL_AFFINITY },
    'enchanted_quiver': { name: 'Enchanted Quiver', slot: 'accessory', rarity: 'uncommon', stats: { agility: 5, attack: 2 }, classAffinity: ROGUE_AFFINITY },
    'sorcerers_robes': { name: 'Sorcerer\'s Robes', slot: 'armor', rarity: 'uncommon', stats: { intelligence: 6, mana: 15 }, classAffinity: MAGE_AFFINITY },
    'steel_gauntlets': { name: 'Steel Gauntlets', slot: 'armor', rarity: 'uncommon', stats: { attack: 2, defense: 6 }, classAffinity: WARRIOR_AFFINITY },
    'battle_harness': { name: 'Battle Harness', slot: 'accessory', rarity: 'uncommon', stats: { health: 20, attack: 3 }, classAffinity: WARRIOR_AFFINITY },
    'poisoned_stiletto': { name: 'Poisoned Stiletto', slot: 'weapon', rarity: 'uncommon', stats: { attack: 8, agility: 3 }, classAffinity: ROGUE_AFFINITY, setId: 'shadow_garb' },
    'healing_charm': { name: 'Healing Charm', slot: 'accessory', rarity: 'uncommon', stats: { health: 10, intelligence: 4 }, classAffinity: CLERIC_AFFINITY },
    'kobold_pickaxe': { name: 'Kobold Pickaxe', slot: 'weapon', rarity: 'uncommon', stats: { attack: 9 }, classAffinity: UNIVERSAL_AFFINITY },
    'spider_silk_cape': { name: 'Spider Silk Cape', slot: 'armor', rarity: 'uncommon', stats: { agility: 5, defense: 3 }, classAffinity: ROGUE_AFFINITY },
    'serpents_eye_ring': { name: 'Serpent\'s Eye Ring', slot: 'accessory', rarity: 'uncommon', stats: { agility: 6 }, classAffinity: UNIVERSAL_AFFINITY },
    'holy_symbol': { name: 'Holy Symbol', slot: 'accessory', rarity: 'uncommon', stats: { intelligence: 7 }, classAffinity: CLERIC_AFFINITY, setId: 'acolyte_vestments' },
    'gnoll_bone_armor': { name: 'Gnoll Bone Armor', slot: 'armor', rarity: 'uncommon', stats: { defense: 12 }, classAffinity: WARRIOR_AFFINITY },
    'barbarian_axe': { name: 'Barbarian Axe', slot: 'weapon', rarity: 'uncommon', stats: { attack: 11, health: 5 }, classAffinity: WARRIOR_AFFINITY },
    'sandals_of_the_oasis': { name: 'Sandals of the Oasis', slot: 'armor', rarity: 'uncommon', stats: { mana: 10, agility: 4 }, classAffinity: MAGE_AFFINITY },
    'reinforced_tower_shield': { name: 'Reinforced Tower Shield', slot: 'accessory', rarity: 'uncommon', stats: { defense: 10 }, classAffinity: WARRIOR_AFFINITY },
    'warlock_pendant': { name: 'Warlock Pendant', slot: 'accessory', rarity: 'uncommon', stats: { intelligence: 6, attack: 2 }, classAffinity: MAGE_AFFINITY },
    'dwarven_hammer': { name: 'Dwarven Hammer', slot: 'weapon', rarity: 'uncommon', stats: { attack: 10, defense: 2 }, classAffinity: WARRIOR_AFFINITY },
    'shadow_mask': { name: 'Shadow Mask', slot: 'armor', rarity: 'uncommon', stats: { agility: 6, defense: 3 }, classAffinity: ROGUE_AFFINITY, setId: 'shadow_garb' },
    'acolyte_gloves': { name: 'Acolyte Gloves', slot: 'armor', rarity: 'uncommon', stats: { intelligence: 4, defense: 2 }, classAffinity: MAGE_AFFINITY, setId: 'acolyte_vestments' },
    
    // Rare (30)
    'elven_chainmail': { name: 'Elven Chainmail', slot: 'armor', rarity: 'rare', stats: { defense: 20, agility: 10 }, classAffinity: CLERIC_AFFINITY },
    'greatsword_of_valor': { name: 'Greatsword of Valor', slot: 'weapon', rarity: 'rare', stats: { attack: 25, health: 50 }, classAffinity: WARRIOR_AFFINITY },
    'staff_of_lightning': { name: 'Staff of Lightning', slot: 'weapon', rarity: 'rare', stats: { intelligence: 20, mana: 50 }, classAffinity: MAGE_AFFINITY },
    'shadow_cloak': { name: 'Shadow Cloak', slot: 'armor', rarity: 'rare', stats: { agility: 18, defense: 12 }, classAffinity: ROGUE_AFFINITY },
    'ring_of_regeneration': { name: 'Ring of Regeneration', slot: 'accessory', rarity: 'rare', stats: { health: 100 }, classAffinity: UNIVERSAL_AFFINITY },
    'amulet_of_power': { name: 'Amulet of Power', slot: 'accessory', rarity: 'rare', stats: { attack: 10, intelligence: 10 }, classAffinity: UNIVERSAL_AFFINITY },
    'dragonhide_boots': { name: 'Dragonhide Boots', slot: 'armor', rarity: 'rare', stats: { defense: 15, agility: 8 }, classAffinity: UNIVERSAL_AFFINITY },
    'plate_helm_of_command': { name: 'Plate Helm of Command', slot: 'armor', rarity: 'rare', stats: { defense: 22, health: 30 }, classAffinity: WARRIOR_AFFINITY },
    'blessed_warhammer': { name: 'Blessed Warhammer', slot: 'weapon', rarity: 'rare', stats: { attack: 22, intelligence: 10 }, classAffinity: CLERIC_AFFINITY },
    'daggers_of_silence': { name: 'Daggers of Silence', slot: 'weapon', rarity: 'rare', stats: { attack: 18, agility: 15 }, classAffinity: ROGUE_AFFINITY },
    'orb_of_winter': { name: 'Orb of Winter', slot: 'accessory', rarity: 'rare', stats: { intelligence: 18, mana: 40 }, classAffinity: MAGE_AFFINITY },
    'golem_fist': { name: 'Golem Fist', slot: 'weapon', rarity: 'rare', stats: { attack: 30, defense: 5 }, classAffinity: WARRIOR_AFFINITY },
    'phoenix_down_mantle': { name: 'Phoenix Down Mantle', slot: 'armor', rarity: 'rare', stats: { defense: 18, health: 50 }, classAffinity: CLERIC_AFFINITY },
    'giants_belt': { name: 'Giant\'s Belt', slot: 'accessory', rarity: 'rare', stats: { health: 120, attack: 5 }, classAffinity: WARRIOR_AFFINITY },
    'runic_longbow': { name: 'Runic Longbow', slot: 'weapon', rarity: 'rare', stats: { attack: 20, agility: 12, intelligence: 5 }, classAffinity: ROGUE_AFFINITY },
    'archmage_robes': { name: 'Archmage Robes', slot: 'armor', rarity: 'rare', stats: { intelligence: 15, mana: 80, defense: 10 }, classAffinity: MAGE_AFFINITY },
    'vampiric_gauntlets': { name: 'Vampiric Gauntlets', slot: 'armor', rarity: 'rare', stats: { attack: 8, health: 40 }, classAffinity: UNIVERSAL_AFFINITY },
    'sentinels_emblem': { name: 'Sentinel\'s Emblem', slot: 'accessory', rarity: 'rare', stats: { defense: 18, health: 60 }, classAffinity: CLERIC_AFFINITY },
    'blade_of_the_assassin': { name: 'Blade of the Assassin', slot: 'weapon', rarity: 'rare', stats: { attack: 22, agility: 18 }, classAffinity: ROGUE_AFFINITY },
    'libram_of_souls': { name: 'Libram of Souls', slot: 'accessory', rarity: 'rare', stats: { intelligence: 20, health: -20 }, classAffinity: MAGE_AFFINITY },
    'minotaur_labrys': { name: 'Minotaur Labrys', slot: 'weapon', rarity: 'rare', stats: { attack: 28, defense: -5 }, classAffinity: WARRIOR_AFFINITY },
    'wyvern_scale_shield': { name: 'Wyvern Scale Shield', slot: 'accessory', rarity: 'rare', stats: { defense: 25, agility: 5 }, classAffinity: WARRIOR_AFFINITY },
    'diadem_of_the_savant': { name: 'Diadem of the Savant', slot: 'armor', rarity: 'rare', stats: { intelligence: 16, mana: 30 }, classAffinity: MAGE_AFFINITY },
    'stormcallers_focus': { name: 'Stormcaller\'s Focus', slot: 'accessory', rarity: 'rare', stats: { intelligence: 22 }, classAffinity: MAGE_AFFINITY },
    'earthshaker_maul': { name: 'Earthshaker Maul', slot: 'weapon', rarity: 'rare', stats: { attack: 35 }, classAffinity: WARRIOR_AFFINITY },
    'robes_of_the_oracle': { name: 'Robes of the Oracle', slot: 'armor', rarity: 'rare', stats: { intelligence: 18, health: 40 }, classAffinity: CLERIC_AFFINITY },
    'ring_of_the_marksman': { name: 'Ring of the Marksman', slot: 'accessory', rarity: 'rare', stats: { agility: 15, attack: 5 }, classAffinity: ROGUE_AFFINITY },
    'tome_of_forbidden_knowledge': { name: 'Tome of Forbidden Knowledge', slot: 'accessory', rarity: 'rare', stats: { intelligence: 25 }, classAffinity: MAGE_AFFINITY },
    'spiders_fang_dagger': { name: 'Spider\'s Fang Dagger', slot: 'weapon', rarity: 'rare', stats: { attack: 20, agility: 10 }, classAffinity: ROGUE_AFFINITY },
    'guardian_plate': { name: 'Guardian Plate', slot: 'armor', rarity: 'rare', stats: { defense: 30, health: 50 }, classAffinity: WARRIOR_AFFINITY },

    // Epic (15)
    'dragonscale_armor': { name: 'Dragonscale Armor', slot: 'armor', rarity: 'epic', stats: { defense: 50, health: 150 }, classAffinity: WARRIOR_AFFINITY },
    'frostmourne_replica': { name: 'Frostmourne Replica', slot: 'weapon', rarity: 'epic', stats: { attack: 60, intelligence: 25, health: 100 }, classAffinity: WARRIOR_AFFINITY },
    'staff_of_the_archon': { name: 'Staff of the Archon', slot: 'weapon', rarity: 'epic', stats: { intelligence: 70, mana: 200 }, classAffinity: MAGE_AFFINITY },
    'voidwalkers_shroud': { name: 'Voidwalker\'s Shroud', slot: 'armor', rarity: 'epic', stats: { agility: 50, defense: 30, mana: 50 }, classAffinity: ROGUE_AFFINITY },
    'heart_of_the_phoenix': { name: 'Heart of the Phoenix', slot: 'accessory', rarity: 'epic', stats: { health: 300, defense: 20 }, classAffinity: UNIVERSAL_AFFINITY },
    'band_of_elemental_mastery': { name: 'Band of Elemental Mastery', slot: 'accessory', rarity: 'epic', stats: { attack: 20, intelligence: 40 }, classAffinity: UNIVERSAL_AFFINITY },
    'boots_of_the_comet': { name: 'Boots of the Comet', slot: 'armor', rarity: 'epic', stats: { agility: 60, defense: 15 }, classAffinity: ROGUE_AFFINITY },
    'helm_of_the_behemoth': { name: 'Helm of the Behemoth', slot: 'armor', rarity: 'epic', stats: { defense: 45, health: 120, attack: 10 }, classAffinity: WARRIOR_AFFINITY },
    'scepter_of_divinity': { name: 'Scepter of Divinity', slot: 'weapon', rarity: 'epic', stats: { attack: 40, intelligence: 60 }, classAffinity: CLERIC_AFFINITY, setId: 'celestial_set' },
    'soulreaver_daggers': { name: 'Soulreaver Daggers', slot: 'weapon', rarity: 'epic', stats: { attack: 45, agility: 45 }, classAffinity: ROGUE_AFFINITY },
    'eye_of_the_maelstrom': { name: 'Eye of the Maelstrom', slot: 'accessory', rarity: 'epic', stats: { intelligence: 50, attack: 15, agility: 15 }, classAffinity: MAGE_AFFINITY },
    'world_serpent_buckle': { name: 'World Serpent Buckle', slot: 'accessory', rarity: 'epic', stats: { health: 250, defense: 25 }, classAffinity: WARRIOR_AFFINITY },
    'sunfury_bow': { name: 'Sunfury Bow', slot: 'weapon', rarity: 'epic', stats: { attack: 55, agility: 30 }, classAffinity: ROGUE_AFFINITY },
    'titanforged_gauntlets': { name: 'Titanforged Gauntlets', slot: 'armor', rarity: 'epic', stats: { attack: 25, defense: 35 }, classAffinity: WARRIOR_AFFINITY },
    'demonsoul_edge': { name: 'Demonsoul Edge', slot: 'weapon', rarity: 'epic', stats: { attack: 75, health: -50 }, classAffinity: WARRIOR_AFFINITY },
    'heart_of_corruption': { name: 'Heart of Corruption', slot: 'accessory', rarity: 'epic', stats: { health: 150, attack: 15, intelligence: 15 }, classAffinity: UNIVERSAL_AFFINITY },

    // Legendary (10)
    'thunderfury_blessed_blade': { name: 'Thunderfury, Blessed Blade', slot: 'weapon', rarity: 'legendary', stats: { attack: 100, agility: 75 }, classAffinity: UNIVERSAL_AFFINITY },
    'atiyeh_greatstaff_of_the_guardian': { name: 'Atiyesh, Greatstaff of the Guardian', slot: 'weapon', rarity: 'legendary', stats: { intelligence: 120, mana: 300, health: 100 }, classAffinity: MAGE_AFFINITY },
    'bulwark_of_azzinoth': { name: 'Bulwark of Azzinoth', slot: 'accessory', rarity: 'legendary', stats: { defense: 100, health: 500 }, classAffinity: WARRIOR_AFFINITY },
    'shadowmourne': { name: 'Shadowmourne', slot: 'weapon', rarity: 'legendary', stats: { attack: 150, health: 200 }, classAffinity: WARRIOR_AFFINITY },
    'vestments_of_the_celestial': { name: 'Vestments of the Celestial', slot: 'armor', rarity: 'legendary', stats: { defense: 80, intelligence: 80, mana: 250 }, classAffinity: CLERIC_AFFINITY, setId: 'celestial_set' },
    'thori_dal_the_stars_fury': { name: 'Thori\'dal, the Stars\' Fury', slot: 'weapon', rarity: 'legendary', stats: { attack: 90, agility: 120 }, classAffinity: ROGUE_AFFINITY },
    'talisman_of_binding_shard': { name: 'Talisman of Binding Shard', slot: 'accessory', rarity: 'legendary', stats: { attack: 50, intelligence: 50, agility: 50 }, classAffinity: UNIVERSAL_AFFINITY, setId: 'celestial_set' },
    'kingslayers': { name: 'The Kingslayers', slot: 'weapon', rarity: 'legendary', stats: { attack: 80, agility: 100, defense: -20 }, classAffinity: ROGUE_AFFINITY, setId: 'kingslayer_set' },
    'aegis_of_the_world_forger': { name: 'Aegis of the World-Forger', slot: 'armor', rarity: 'legendary', stats: { defense: 120, health: 400 }, classAffinity: WARRIOR_AFFINITY, setId: 'kingslayer_set' },
    'eye_of_sargeras': { name: 'Eye of Sargeras', slot: 'accessory', rarity: 'legendary', stats: { intelligence: 150, health: -100 }, classAffinity: MAGE_AFFINITY },
    'tears_of_olphia': { name: 'Tears of Olphia', slot: 'weapon', rarity: 'legendary', stats: { attack: 120, intelligence: 120, health: 300 }, classAffinity: UNIVERSAL_AFFINITY },
};
